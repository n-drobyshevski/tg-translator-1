{% set body %}
<div class="max-h-[80vh] overflow-y-auto px-6 py-4">
  <!-- Message Details Section -->
  <div class="mb-6 border rounded-lg p-4 bg-white shadow-sm">
    <h3 class="text-lg font-semibold text-gray-900 mb-4">Message Information</h3>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      <!-- Source Message Section -->
      <div class="space-y-4">
        <h4 class="text-md font-medium text-gray-700">Source</h4>
        <div class="flex flex-col">
          <label for="field-source_channel" class="text-sm font-medium text-gray-600">Channel ID</label>
          <input type="text" id="field-source_channel" name="source_channel" readonly
                 class="mt-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm" />
        </div>
        <div class="flex flex-col">
          <label for="field-source_channel_name" class="text-sm font-medium text-gray-600">Channel Name</label>
          <input type="text" id="field-source_channel_name" name="source_channel_name"
                 class="mt-1 bg-white border border-gray-300 rounded-md px-3 py-2 text-sm" />
        </div>
        <div class="flex flex-col">
          <label for="field-message_id" class="text-sm font-medium text-gray-600">Message ID</label>
          <input type="text" id="field-message_id" name="message_id" readonly
                 class="mt-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm" />
        </div>
        <div class="flex flex-col">
          <label class="text-sm font-medium text-gray-600">Source Message</label>
          <div id="source-message-preview" class="mt-1 p-3 bg-gray-50 rounded-md text-sm min-h-[100px] max-h-[200px] overflow-y-auto"></div>
        </div>
      </div>

      <!-- Destination Message Section -->
      <div class="space-y-4">
        <h4 class="text-md font-medium text-gray-700">Destination</h4>
        <div class="flex flex-col">
          <label for="field-dest_channel" class="text-sm font-medium text-gray-600">Channel ID</label>
          <input type="text" id="field-dest_channel" name="dest_channel" readonly
                 class="mt-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm" />
        </div>
        <div class="flex flex-col">
          <label for="field-dest_channel_name" class="text-sm font-medium text-gray-600">Channel Name</label>
          <input type="text" id="field-dest_channel_name" name="dest_channel_name"
                 class="mt-1 bg-white border border-gray-300 rounded-md px-3 py-2 text-sm" />
        </div>
        <div class="flex flex-col">
          <label for="field-dest_message_id" class="text-sm font-medium text-gray-600">Message ID</label>
          <input type="text" id="field-dest_message_id" name="dest_message_id" readonly
                 class="mt-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm" />
        </div>
        <div class="flex flex-col">
          <label class="text-sm font-medium text-gray-600">Translated Message</label>
          <div id="translated-message-preview" class="mt-1 p-3 bg-gray-50 rounded-md text-sm min-h-[100px] max-h-[200px] overflow-y-auto"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Event Status Section -->
  <div class="mb-6 border rounded-lg p-4 bg-white shadow-sm">
    <h3 class="text-lg font-semibold text-gray-900 mb-4">Event Status</h3>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      <div class="flex flex-col">
        <label for="field-event" class="text-sm font-medium text-gray-600">Event Type</label>
        <input type="text" id="field-event" name="event"
               class="mt-1 bg-white border border-gray-300 rounded-md px-3 py-2 text-sm" />
      </div>
      <div class="flex flex-col">
        <label for="field-status" class="text-sm font-medium text-gray-600">Status</label>
        <div id="field-status" class="mt-1 p-2 rounded-md text-sm"></div>
      </div>
      <div class="flex flex-col">
        <label for="field-error" class="text-sm font-medium text-gray-600">Error Message</label>
        <div id="field-error" class="mt-1 p-2 bg-red-50 rounded-md text-sm overflow-x-auto"></div>
      </div>
      <div class="flex flex-col">
        <label for="field-retry-count" class="text-sm font-medium text-gray-600">Retry Count</label>
        <div id="field-retry-count" class="mt-1 p-2 rounded-md text-sm"></div>
      </div>
    </div>
  </div>

  <!-- Timing Information -->
  <div class="mb-6 border rounded-lg p-4 bg-white shadow-sm">
    <h3 class="text-lg font-semibold text-gray-900 mb-4">Timing Information</h3>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      <div class="flex flex-col">
        <label for="field-timestamp" class="text-sm font-medium text-gray-600">Creation Time</label>
        <input type="datetime-local" id="field-timestamp" name="timestamp"
               class="mt-1 bg-white border border-gray-300 rounded-md px-3 py-2 text-sm" />
      </div>
      <div class="flex flex-col">
        <label for="field-edit_timestamp" class="text-sm font-medium text-gray-600">Last Edit Time</label>
        <input type="datetime-local" id="field-edit_timestamp" name="edit_timestamp"
               class="mt-1 bg-white border border-gray-300 rounded-md px-3 py-2 text-sm" />
      </div>
      <div class="flex flex-col">
        <label for="field-process-duration" class="text-sm font-medium text-gray-600">Processing Duration</label>
        <div id="field-process-duration" class="mt-1 p-2 rounded-md text-sm"></div>
      </div>
    </div>
  </div>

  <!-- Media Information (if applicable) -->
  <div id="media-section" class="mb-6 border rounded-lg p-4 bg-white shadow-sm" style="display: none;">
    <h3 class="text-lg font-semibold text-gray-900 mb-4">Media Information</h3>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      <div class="flex flex-col">
        <label class="text-sm font-medium text-gray-600">Media Type</label>
        <div id="field-media-type" class="mt-1 p-2 rounded-md text-sm"></div>
      </div>
      <div class="flex flex-col">
        <label class="text-sm font-medium text-gray-600">File Size</label>
        <div id="field-file-size" class="mt-1 p-2 rounded-md text-sm"></div>
      </div>
      <div class="flex flex-col">
        <label class="text-sm font-medium text-gray-600">Media Duration</label>
        <div id="field-media-duration" class="mt-1 p-2 rounded-md text-sm"></div>
      </div>
      <div class="flex flex-col">
        <label class="text-sm font-medium text-gray-600">Resolution</label>
        <div id="field-resolution" class="mt-1 p-2 rounded-md text-sm"></div>
      </div>
    </div>
  </div>
</div>
{% endset %}

{% set footer %}
<div class="px-6 py-4 bg-gray-50 text-right">
  <button type="button" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-md mr-2" 
          onclick="hideEditModal()">Cancel</button>
  <button type="button" class="bg-blue-600 text-white px-4 py-2 rounded-md" 
          onclick="saveEventChanges()">Save Changes</button>
</div>
{% endset %}

<!-- Include the modal template -->
{% include "components/modal.html" %}
